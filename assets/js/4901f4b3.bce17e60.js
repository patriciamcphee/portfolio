"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4762],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return d}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,k=u["".concat(l,".").concat(d)]||u[d]||m[d]||r;return n?o.createElement(k,i(i({ref:t},c),{},{components:n})):o.createElement(k,i({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8378:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},toc:function(){return c},default:function(){return u}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],s={title:"XenApp - Slow logon issues",tags:["tech writing","kb","troubleshooting"],description:"Slow logon issues with XenDesktop 7.8, XenDesktop 7.7, XenDesk 7.6 FP3, and XenApp."},l=void 0,p={unversionedId:"kb-articles/slow-logon-issue",id:"kb-articles/slow-logon-issue",title:"XenApp - Slow logon issues",description:"Slow logon issues with XenDesktop 7.8, XenDesktop 7.7, XenDesk 7.6 FP3, and XenApp.",source:"@site/docs/kb-articles/slow-logon-issue.md",sourceDirName:"kb-articles",slug:"/kb-articles/slow-logon-issue",permalink:"/portfolio/docs/kb-articles/slow-logon-issue",tags:[{label:"tech writing",permalink:"/portfolio/docs/tags/tech-writing"},{label:"kb",permalink:"/portfolio/docs/tags/kb"},{label:"troubleshooting",permalink:"/portfolio/docs/tags/troubleshooting"}],version:"current",frontMatter:{title:"XenApp - Slow logon issues",tags:["tech writing","kb","troubleshooting"],description:"Slow logon issues with XenDesktop 7.8, XenDesktop 7.7, XenDesk 7.6 FP3, and XenApp."},sidebar:"tutorialSidebar",previous:{title:"KB article samples",permalink:"/portfolio/docs/kb-articles/kb-article-samples"},next:{title:"Routing error on outbout shipment",permalink:"/portfolio/docs/kb-articles/routing-error-outbound-shipment"}},c=[{value:"Profile issues",id:"profile-issues",children:[],level:2},{value:"Logon script issues",id:"logon-script-issues",children:[],level:2},{value:"Network issues",id:"network-issues",children:[],level:2},{value:"Permissions issues",id:"permissions-issues",children:[],level:2},{value:"General troubleshooting steps",id:"general-troubleshooting-steps",children:[],level:2}],m={toc:c};function u(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Project:"),"  UX and KB writing challenge  ",(0,r.kt)("br",null),"\n",(0,r.kt)("strong",{parentName:"p"},"Description:"),"  I like to keep up with the writing trends. I also like to challenge myself by rewriting and reformatting KB articles. I learned how to write technical KB articles using an Information Technology Infrastructure Library (ITIL) format for helpdesk professionals and customer self-service.",(0,r.kt)("br",null),"\n",(0,r.kt)("strong",{parentName:"p"},"Original:")," ",(0,r.kt)("a",{parentName:"p",href:"https://support.citrix.com/article/CTX101705"},"How to Troubleshoot Slow Logons on XenApp"),(0,r.kt)("br",null),"\n",(0,r.kt)("strong",{parentName:"p"},"Date of the rewrite:")," January 10, 2020 ")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Article #"),(0,r.kt)("th",{parentName:"tr",align:null},"Product(s)"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"CTX101705"),(0,r.kt)("td",{parentName:"tr",align:null},"- XenDesktop 7.8",(0,r.kt)("br",null),"- XenDesktop 7.7",(0,r.kt)("br",null),"- XenDesktop 7.6 FP3",(0,r.kt)("br",null),"-XenApp")))),(0,r.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Make sure to log into the same server using Microsoft's RDP client instead of the Citrix Receiver. By doing this, you can determine whether the issue is a profile, logon script, network, or other user environment issue."))),(0,r.kt)("h2",{id:"profile-issues"},"Profile issues"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"For existing users"),", remove any references to a profile path from the following:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Remote Desktop User ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Profile path within Active Directory (AD) users and computers, if applicable")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Computer Management"))),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Create a local account directly on the Remote Desktop Server to ensure that the profile loads directly from the server. Retest the logon.")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"For new user accounts"),", accounts without a local profile and anonymous accounts need to generate a local profile upon login. The creation of the original profile might take time. If a Microsoft Policy is in place to cache or delete the local copy of the user profile, this slows down logons because it needs to rebuild the profile. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Is Citrix User Profile Management (UPM) used to manage user profiles?")," If so, disable the service on one server and then retest. If the issue improves, look over your Citrix UPM policies because there might be a configuration causing the problem. To enable UPM logging, see CTX126723 - How to Enable and Retrieve Profile Management Log Files. "))),(0,r.kt)("h2",{id:"logon-script-issues"},"Logon script issues"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Remove any references to a logon script within:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Active Directory uses and computers"),(0,r.kt)("li",{parentName:"ul"},"Computer Management"),(0,r.kt)("li",{parentName:"ul"},"Any sore of computer or group policy."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Create a local account directly on the Remote Desktop Server to ensure that the profile loads directly from the server. Retest the logon."))),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"To help troubleshoot the resources in the script, comment out (REM) or input pause statements throughout each section of the logon script."))),(0,r.kt)("h2",{id:"network-issues"},"Network issues"),(0,r.kt)("p",null,"The root cause that indicates a network issue:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The Remote Desktop Server is searching for fonts by name and not finding them."),(0,r.kt)("li",{parentName:"ul"},"A user encounters a black screen for 1 to 20 minutes before the logon completes. "),(0,r.kt)("li",{parentName:"ul"},"An application is searching for fonts (usually created by older apps). Occasional occurrence.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Steps for troubleshooting"),(0,r.kt)("br",null)),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"In the system ",(0,r.kt)("em",{parentName:"li"},"Control Panel"),", click the ",(0,r.kt)("strong",{parentName:"li"},"Environment")," tab."),(0,r.kt)("li",{parentName:"ol"},"In the ",(0,r.kt)("em",{parentName:"li"},"System Variables")," section, click ",(0,r.kt)("strong",{parentName:"li"},"Path"),"."),(0,r.kt)("li",{parentName:"ol"},"At the bottom, in the ",(0,r.kt)("em",{parentName:"li"},"Value")," field, add the following to the end of the string:",(0,r.kt)("br",null),(0,r.kt)("inlineCode",{parentName:"li"},";%SystemRoot%\\Fonts")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Set"),".")),(0,r.kt)("h2",{id:"permissions-issues"},"Permissions issues"),(0,r.kt)("p",null,"For the Citrix Receiver to function correctly, the user requires ",(0,r.kt)("strong",{parentName:"p"},"Full")," permission on the following registry key:"),(0,r.kt)("p",null,"   HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\MSLicensing"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Local workstation admins and power users are not affected by this issue."))),(0,r.kt)("h2",{id:"general-troubleshooting-steps"},"General troubleshooting steps"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Is an antivirus product running on the client device? If so, disable it and retest the connection to the XenApp server.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Is there a hung process? If so, terminate the process to see if this speeds up the logon process. "),(0,r.kt)("div",{parentName:"li",className:"admonition admonition-note alert alert--secondary"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If it's a third-party process, contact the vendor for assistance.")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Is Session Reliability enabled? If so, disable it and see CTX104147 - Explaining ICA Session Reliability, Common Gateway Protocol, on TCP Port 2598 for more details. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Is this for published applications? If so, then do the following:"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Investigate with the Delivery Services Console or Citrix AppCenter. ")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Navigate to ",(0,r.kt)("em",{parentName:"p"},"Properties")," on the ",(0,r.kt)("strong",{parentName:"p"},"Application",">","Printing")," section.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Ensure that ",(0,r.kt)("strong",{parentName:"p"},"Start this application without waiting for printers to be created")," has been set as the default."))))))}u.isMDXComponent=!0}}]);